<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https: data:; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com data:; script-src 'self' 'unsafe-inline' https://www.googletagmanager.com https://www.google-analytics.com; connect-src 'self' https://www.google-analytics.com https://www.googletagmanager.com; base-uri 'self'; frame-ancestors 'none'; upgrade-insecure-requests">
<title>Invoice Finder 2026 - Finde dein perfektes Rechnungs-Tool f√ºr Freelancer</title>
<meta name="description" content="Finde in 2 Klicks dein perfektes Rechnungs-Tool. Echte Freelancer-Bewertungen, Top 5 Charts, intelligente Empfehlungen f√ºr 2026.">
<meta name="keywords" content="Rechnungssoftware Freelancer, KI Rechnungen, automatisierte Rechnungen, Freelancer Tools, kostenlose Rechnungssoftware">
<meta name="google-site-verification" content="Wo_6LQQ8LoGlobalzVMjBHh_Z-VD3N_dFdqCZb2BYxV0" />
<link rel="canonical" href="https://billr-ai.github.io/invoice-finder/">
<meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
<meta property="og:type" content="website">
<meta property="og:title" content="Invoice Finder 2026 - Finde dein perfektes Rechnungs-Tool f√ºr Freelancer">
<meta property="og:description" content="Finde in 2 Klicks dein perfektes Rechnungs-Tool. Echte Freelancer-Bewertungen, Top 5 Charts, intelligente Empfehlungen.">
<meta property="og:url" content="https://billr-ai.github.io/invoice-finder/">
<meta property="og:site_name" content="Invoice Finder">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Invoice Finder 2026">
<meta name="twitter:description" content="Finde in 2 Klicks dein perfektes Rechnungs-Tool">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BSC0RCF1MJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-BSC0RCF1MJ', { anonymize_ip: true });
</script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Invoice Finder",
  "url": "https://billr-ai.github.io/invoice-finder/",
  "description": "Finde in 2 Klicks dein perfektes Rechnungs-Tool f√ºr Freelancer. Echte User-Bewertungen, Top 5 Charts, intelligente Empfehlungen.",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://billr-ai.github.io/invoice-finder/?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --primary:#3b82f6;
  --primary-light:#60a5fa;
  --primary-dark:#2563eb;
  --secondary:#10b981;
  --secondary-light:#34d399;
  --accent:#38bdf8;
  --dark:#020617;
  --dark-light:#0f172a;
  --text:#1e293b; /* Dunkler Text f√ºr bessere Lesbarkeit */
  --text-dark:#0f172a; /* Noch dunkler f√ºr √úberschriften */
  --text-muted:#475569;
  --card-bg:rgba(255, 255, 255, 1); /* Weniger transparent */
  --card-border:rgba(203, 213, 225, 0.6);
  --glass:rgba(255,255,255,0.1);
  --shadow:0 8px 20px rgba(0,0,0,0.12);
  --radius:12px;
  --transition:all 0.25s ease
}
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,#f1f5f9 0%,#e2e8f0 100%);
  color:var(--text);
  min-height:100vh;
  overflow-x:hidden;
  line-height:1.4;
}
.language-switch{position:fixed;top:15px;right:15px;z-index:1000}
.lang-btn{background:white;border:2px solid var(--primary);color:var(--primary);padding:8px 16px;border-radius:var(--radius);cursor:pointer;display:flex;align-items:center;gap:6px;font-weight:600;transition:var(--transition);font-size:0.9rem;box-shadow:var(--shadow)}
.lang-btn:hover{background:var(--primary);color:white;transform:translateY(-2px)}
.header{padding:60px 20px 20px;text-align:center;max-width:1200px;margin:0 auto}
.badge{background:linear-gradient(135deg,var(--primary),var(--accent));color:white;padding:8px 18px;border-radius:20px;font-size:0.9rem;font-weight:600;display:inline-block;margin-bottom:20px;animation:float 3s ease-in-out infinite;box-shadow:0 4px 12px rgba(59,130,246,0.3)}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
.header h1{font-size:clamp(2rem,4vw,3rem);margin-bottom:16px;line-height:1.1;color:var(--text-dark);font-weight:800}
.header p{font-size:1.1rem;color:var(--text-muted);max-width:600px;margin:0 auto 25px;line-height:1.6}
.search-container{max-width:700px;margin:0 auto 20px;position:relative}
.search-box{width:100%;padding:16px 20px 16px 52px;background:white;border:2px solid var(--card-border);border-radius:var(--radius);color:var(--text);font-size:1rem;transition:var(--transition);box-shadow:var(--shadow)}
.search-box:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(59,130,246,0.1)}
.search-icon{position:absolute;left:18px;top:50%;transform:translateY(-50%);color:var(--primary);font-size:1.2rem}
.search-suggestions{position:absolute;top:100%;left:0;right:0;background:white;border:2px solid var(--primary);border-top:none;border-radius:0 0 var(--radius) var(--radius);max-height:280px;overflow-y:auto;z-index:100;display:none;box-shadow:var(--shadow)}
.search-suggestions.active{display:block}
.suggestion-item{padding:12px 18px;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:12px;border-bottom:1px solid var(--card-border)}
.suggestion-item:hover{background:rgba(59,130,246,0.08)}
.suggestion-icon{color:var(--primary);width:20px;font-size:1rem}
.suggestion-text{flex:1;display:flex;flex-direction:column;gap:4px}
.suggestion-name{color:var(--text-dark);font-weight:700;font-size:1rem}
.suggestion-meta{font-size:0.85rem;color:var(--text-muted)}
.quick-navigation{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;max-width:1200px;margin:0 auto 30px;padding:0 20px}
.quick-card{background:white;border-radius:var(--radius);padding:20px;transition:var(--transition);border:2px solid var(--card-border);display:flex;flex-direction:column;align-items:center;text-align:center;cursor:pointer;box-shadow:var(--shadow)}
.quick-card:hover{transform:translateY(-5px);border-color:var(--primary);box-shadow:0 12px 25px rgba(59,130,246,0.15)}
.quick-card.active{background:linear-gradient(135deg, var(--primary-light), var(--primary));border-color:var(--primary);color:white;}
.quick-card.active .quick-title,
.quick-card.active .quick-desc{color:white;}
.quick-card.active .quick-icon{background:rgba(255,255,255,0.2);color:white;}
.quick-icon{width:48px;height:48px;background:linear-gradient(135deg,var(--primary),var(--accent));border-radius:12px;display:flex;align-items:center;justify-content:center;margin-bottom:15px;font-size:1.4rem;color:white}
.quick-title{font-size:1rem;font-weight:700;color:var(--text-dark);margin-bottom:6px}
.quick-desc{font-size:0.85rem;color:var(--text-muted);line-height:1.4}
.top-charts-section{max-width:1200px;margin:0 auto 30px;padding:0 20px}
.section-title{display:flex;align-items:center;gap:10px;font-size:1.3rem;font-weight:800;color:var(--text-dark);margin-bottom:20px}
.section-title i{color:var(--primary);font-size:1.1rem}
.top-charts{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px}
.chart-card{background:white;border-radius:var(--radius);padding:20px;border:2px solid var(--card-border);box-shadow:var(--shadow)}
.chart-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.chart-rank{width:36px;height:36px;background:linear-gradient(135deg,var(--primary),var(--accent));border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:1rem;color:white}
.chart-rank.rank-1{background:linear-gradient(135deg,#f59e0b,#d97706)}
.chart-rank.rank-2{background:linear-gradient(135deg:#94a3b8,#64748b)}
.chart-rank.rank-3{background:linear-gradient(135deg:#fbbf24,#f59e0b)}
.chart-votes{display:flex;align-items:center;gap:6px;font-size:0.9rem;color:var(--text-muted)}
.chart-votes i{color:var(--secondary)}
.chart-tool-name{font-weight:800;font-size:1.1rem;color:var(--text-dark);margin-bottom:6px}
.chart-category{font-size:0.8rem;color:var(--primary);font-weight:600;background:rgba(59,130,246,0.1);padding:4px 10px;border-radius:20px;display:inline-block}
.chart-price{font-size:1rem;color:var(--secondary);font-weight:700;margin:10px 0}
.chart-description{font-size:0.9rem;color:var(--text-muted);line-height:1.5;margin-bottom:16px;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}
.chart-pros-cons{margin:12px 0;font-size:0.85rem;}
.pros-list, .cons-list{margin:6px 0;}
.pros-list li:before{content:"‚úì ";color:var(--secondary);font-weight:bold;}
.cons-list li:before{content:"‚úó ";color:#ef4444;font-weight:bold;}
.chart-actions{display:flex;gap:10px}
.vote-btn{flex:1;background:rgba(255,255,255,0.05);border:2px solid var(--card-border);border-radius:8px;padding:12px;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;gap:8px;font-size:1rem;font-weight:600;color:var(--text)}
.vote-btn i{font-size:1.2rem} /* Gr√∂√üere Icons */
.vote-btn.up:hover{background:rgba(16,185,129,0.1);border-color:var(--secondary);color:var(--secondary)}
.vote-btn.down:hover{background:rgba(239,68,68,0.1);border-color:#ef4444;color:#ef4444}
.vote-btn.active.up{background:rgba(16,185,129,0.15);border-color:var(--secondary);color:var(--secondary)}
.vote-btn.active.down{background:rgba(239,68,68,0.15);border-color:#ef4444;color:#ef4444}
.tools-container{max-width:1200px;margin:0 auto;padding:0 20px 50px}
.compact-tools-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:25px;flex-wrap:wrap;gap:15px}
.compact-filters{display:flex;flex-wrap:wrap;gap:12px;align-items:center}
.filter-btn{background:white;border:2px solid var(--card-border);color:var(--text-muted);padding:10px 18px;border-radius:20px;cursor:pointer;display:flex;align-items:center;gap:8px;font-weight:600;transition:var(--transition);white-space:nowrap;font-size:0.9rem}
.filter-btn:hover{border-color:var(--primary);color:var(--primary)}
.filter-btn.active{background:linear-gradient(135deg,var(--primary),var(--accent));border-color:transparent;color:white;box-shadow:0 4px 12px rgba(59,130,246,0.3)}
.filter-select{padding:10px 35px 10px 15px;background:white;border:2px solid var(--card-border);border-radius:8px;color:var(--text);font-size:0.9rem;transition:var(--transition);cursor:pointer;appearance:none;min-width:160px;font-weight:600}
.filter-select:focus{outline:none;border-color:var(--primary)}
.filter-group{position:relative}
.filter-group::after{content:'‚ñº';position:absolute;right:15px;top:50%;transform:translateY(-50%);color:var(--primary);pointer-events:none;font-size:0.7rem}
.tools-count{font-size:1rem;color:var(--text-muted)}
.tools-count span{color:var(--primary);font-weight:800}
.compact-tools-grid{display:grid;grid-template-columns:1fr;gap:12px}
.compact-tool-row{background:white;border-radius:var(--radius);padding:18px;border:2px solid var(--card-border);transition:var(--transition);display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:15px;box-shadow:var(--shadow)}
.compact-tool-row:hover{border-color:var(--primary);transform:translateY(-3px);box-shadow:0 12px 25px rgba(59,130,246,0.1)}
.tool-vote-compact{display:flex;flex-direction:column;align-items:center;gap:8px;min-width:60px}
.vote-count{font-weight:800;font-size:1.1rem;color:var(--text-dark)}
.vote-btn-compact{background:transparent;border:none;color:var(--text-muted);cursor:pointer;transition:var(--transition);padding:8px;border-radius:6px;font-size:1.4rem} /* Gr√∂√üere Vote-Buttons */
.vote-btn-compact:hover{color:var(--primary)}
.vote-btn-compact.active.up{color:var(--secondary)}
.vote-btn-compact.active.down{color:#ef4444}
.tool-info-compact{overflow:hidden}
.tool-name-row{display:flex;align-items:center;gap:10px;margin-bottom:8px;flex-wrap:wrap}
.tool-name-compact{font-weight:800;font-size:1.1rem;color:var(--text-dark);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.tool-category-compact{font-size:0.75rem;color:var(--primary);font-weight:600;padding:4px 10px;background:rgba(59,130,246,0.1);border-radius:20px;white-space:nowrap}
.tool-desc-compact{font-size:0.9rem;color:var(--text-muted);line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
.tool-pros-cons-compact{font-size:0.85rem;color:var(--text-muted);margin-top:8px;line-height:1.4;}
.tool-pros-cons-compact span{font-weight:600;color:var(--primary);}
.tool-pros-cons-compact .pros{color:var(--secondary);}
.tool-pros-cons-compact .cons{color:#ef4444;}
.tool-meta-compact{display:flex;flex-direction:column;align-items:flex-end;gap:10px;min-width:160px}
.tool-price-compact{font-size:1rem;font-weight:800;color:var(--secondary)}
.tool-link-compact{background:linear-gradient(135deg,var(--primary),var(--accent));color:white;padding:10px 20px;border-radius:8px;text-decoration:none;font-weight:700;transition:var(--transition);font-size:0.9rem;white-space:nowrap;text-align:center;box-shadow:0 4px 10px rgba(59,130,246,0.2)}
.tool-link-compact:hover{transform:translateY(-2px);box-shadow:0 6px 15px rgba(59,130,246,0.3)}
.empty-state{text-align:center;padding:50px 20px;grid-column:1/-1}
.empty-state i{font-size:3.5rem;color:var(--text-muted);margin-bottom:20px;opacity:0.5}
.empty-state h3{font-size:1.5rem;margin-bottom:15px;color:var(--text-dark)}
.empty-state p{color:var(--text-muted);max-width:400px;margin:0 auto 25px;line-height:1.6;font-size:1rem}
.reset-btn{background:var(--primary);color:white;border:none;padding:12px 24px;border-radius:8px;font-weight:700;cursor:pointer;transition:var(--transition);display:inline-flex;align-items:center;gap:8px;font-size:1rem}
.reset-btn:hover{background:var(--primary-dark);transform:translateY(-2px);box-shadow:0 6px 15px rgba(59,130,246,0.3)}
.footer{text-align:center;padding:40px 20px;border-top:2px solid var(--card-border);margin-top:30px;background:white}
.footer p{color:var(--text-muted);font-size:0.9rem;margin-bottom:8px}
.footer a{color:var(--primary);text-decoration:none;transition:var(--transition);font-size:0.9rem}
.footer a:hover{color:var(--primary-dark);text-decoration:underline}
.scroll-top{position:fixed;bottom:25px;right:25px;background:linear-gradient(135deg,var(--primary),var(--accent));color:white;width:50px;height:50px;border-radius:50%;display:none;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition);z-index:999;box-shadow:0 6px 15px rgba(59,130,246,0.3)}
.scroll-top.visible{display:flex}
.scroll-top:hover{transform:translateY(-3px) scale(1.1)}
@media (max-width:768px){.header{padding:50px 15px 15px}.header h1{font-size:1.8rem}.header p{font-size:1rem}.quick-navigation{grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px;padding:0 15px}.top-charts-section{padding:0 15px}.tools-container{padding:0 15px 30px}.compact-tools-header{flex-direction:column;align-items:stretch}.compact-filters{justify-content:center}.compact-tool-row{grid-template-columns:1fr;gap:12px}.tool-meta-compact{flex-direction:row;justify-content:space-between;align-items:center;min-width:auto;margin-top:10px}.tool-vote-compact{flex-direction:row;gap:15px;justify-content:center;min-width:auto;margin-bottom:10px}}
@media (max-width:480px){.header h1{font-size:1.6rem}.search-box{padding:14px 16px 14px 48px;font-size:0.95rem}.quick-navigation{grid-template-columns:1fr 1fr}.top-charts{grid-template-columns:1fr}.compact-tool-row{padding:15px}.vote-btn-compact{font-size:1.2rem}}
</style>
</head>
<body>
<div class="language-switch">
<button class="lang-btn" id="langBtn" type="button" aria-label="Sprache wechseln">
<i class="fas fa-globe"></i>
<span id="langText">EN</span>
</button>
</div>
<div class="scroll-top" id="scrollTop" aria-label="Nach oben">
<i class="fas fa-arrow-up"></i>
</div>
<header class="header">
<div class="badge" id="badgeText">üöÄ 16 Rechnungs-Tools f√ºr 2026</div>
<h1 id="pageTitle">Finde sofort dein perfektes Rechnungs-Tool</h1>
<p id="pageDescription">Echte Freelancer-Bewertungen, Top 5 Charts, intelligente Empfehlungen. Kein unn√∂tiges Scrollen.</p>
<div class="search-container">
<i class="fas fa-search search-icon"></i>
<input type="text" class="search-box" id="searchInput" autocomplete="off" placeholder="Was m√∂chtest du mit deiner Rechnungssoftware erreichen?">
<div class="search-suggestions" id="searchSuggestions" role="listbox"></div>
</div>
</header>
<section class="quick-navigation" id="quickNav">
<div class="quick-card" data-usecase="automation">
<div class="quick-icon"><i class="fas fa-robot"></i></div>
<div class="quick-title" id="navAuto">Automatisierung</div>
<div class="quick-desc" id="navAutoDesc">Automatische Erinnerungen, wiederkehrende Rechnungen</div>
</div>
<div class="quick-card" data-usecase="time-tracking">
<div class="quick-icon"><i class="fas fa-clock"></i></div>
<div class="quick-title" id="navTime">Zeiterfassung</div>
<div class="quick-desc" id="navTimeDesc">Zeit tracken & direkt in Rechnungen umwandeln</div>
</div>
<div class="quick-card" data-usecase="international">
<div class="quick-icon"><i class="fas fa-globe"></i></div>
<div class="quick-title" id="navIntl">International</div>
<div class="quick-desc" id="navIntlDesc">Mehrere W√§hrungen, internationale Steuern</div>
</div>
<div class="quick-card" data-usecase="mobile">
<div class="quick-icon"><i class="fas fa-mobile-alt"></i></div>
<div class="quick-title" id="navMobile">Mobile First</div>
<div class="quick-desc" id="navMobileDesc">Rechnungen unterwegs erstellen</div>
</div>
<div class="quick-card" data-usecase="contracts">
<div class="quick-icon"><i class="fas fa-file-contract"></i></div>
<div class="quick-title" id="navContract">Vertr√§ge</div>
<div class="quick-desc" id="navContractDesc">Vertr√§ge & Rechnungen kombinieren</div>
</div>
<div class="quick-card" data-category="free">
<div class="quick-icon"><i class="fas fa-gift"></i></div>
<div class="quick-title" id="navFree">Kostenlos</div>
<div class="quick-desc" id="navFreeDesc">Top kostenlose Rechnungs-Tools</div>
</div>
</section>
<section class="top-charts-section">
<div class="section-title"><i class="fas fa-trophy"></i> <span id="topChartsTitle">Top 5 Rechnungs-Tools - Community Ranking</span></div>
<div class="top-charts" id="topCharts"></div>
</section>
<section class="tools-container">
<div class="compact-tools-header">
<div class="compact-filters">
<button class="filter-btn active" data-scope="all" type="button"><i class="fas fa-globe"></i> <span id="catAll">Alle</span></button>
<button class="filter-btn" data-category="basic" type="button"><i class="fas fa-file-invoice"></i> <span id="catBasic">Basic</span></button>
<button class="filter-btn" data-category="advanced" type="button"><i class="fas fa-chart-line"></i> <span id="catAdvanced">Advanced</span></button>
<button class="filter-btn" data-category="mobile" type="button"><i class="fas fa-mobile-alt"></i> <span id="catMobile">Mobile</span></button>
<button class="filter-btn" data-category="all-in-one" type="button"><i class="fas fa-box"></i> <span id="catAllInOne">All-in-One</span></button>
<button class="filter-btn" data-category="enterprise" type="button"><i class="fas fa-building"></i> <span id="catEnterprise">Enterprise</span></button>
</div>
<div class="compact-filters">
<div class="filter-group">
<select id="priceFilter" class="filter-select"></select>
</div>
<div class="filter-group">
<select id="sortFilter" class="filter-select"></select>
</div>
</div>
<div class="tools-count"><span id="toolCount">0</span> <span id="toolsText">Tools</span></div>
</div>
<div class="compact-tools-grid" id="toolsGrid"></div>
</section>
<footer class="footer">
<p id="footerCopy">¬© 2026 Invoice Finder | Community-gest√ºtzte Rechnungs-Tool Empfehlungen</p>
<p id="footerDiscl">Bewertungen basieren auf User-Feedback (LocalStorage).</p>
<p><a href="#"><i class="fas fa-question-circle"></i> Hilfe</a> | <a href="#"><i class="fas fa-envelope"></i> Feedback</a></p>
</footer>
<script>
// Erweiterte Rechnungs-Tools Datenbank mit detaillierten Beschreibungen
let invoiceTools = [
{
  id:1,
  name:"FreshBooks",
  category:"advanced",
  price:"paid",
  priceDisplay:{de:"ab 19‚Ç¨/Monat", en:"from $19/month"},
  rating:4.8,
  description:{de:"F√ºhrende L√∂sung f√ºr professionelle Freelancer mit Automatisierung.", en:"Leading solution for professional freelancers with automation."},
  detailedDescription:{de:"FreshBooks ist eine cloud-basierte Rechnungssoftware speziell f√ºr Freelancer und kleine Unternehmen. Sie bietet umfangreiche Automatisierungsfunktionen, professionelle Rechnungsvorlagen und eine intuitive Benutzeroberfl√§che.", en:"FreshBooks is a cloud-based invoicing software specifically for freelancers and small businesses. It offers extensive automation features, professional invoice templates, and an intuitive user interface."},
  features:["Auto-Erinnerungen","Zeiterfassung","Kundenportal"],
  pros:{de:["Sehr benutzerfreundlich", "Exzellente Automatisierung", "Gute Mobile Apps"], en:["Very user-friendly", "Excellent automation", "Good mobile apps"]},
  cons:{de:["Teurer als Alternativen", "Begrenzte Buchhaltungsfunktionen"], en:["More expensive than alternatives", "Limited accounting features"]},
  link:"https://freshbooks.com/",
  badge:"popular",
  useCases:["automation","time-tracking","international"],
  votes:0,
  userVote:0
},
{
  id:2,
  name:"Wave",
  category:"basic",
  price:"free",
  priceDisplay:{de:"Kostenlos", en:"Free forever"},
  rating:4.5,
  description:{de:"100% kostenlose Rechnungen mit integrierter Buchhaltung.", en:"100% free invoices with integrated accounting."},
  detailedDescription:{de:"Wave ist eine komplett kostenlose Rechnungssoftware mit integrierten Buchhaltungsfunktionen. Perfekt f√ºr Startups und Freelancer mit kleinem Budget.", en:"Wave is a completely free invoicing software with integrated accounting features. Perfect for startups and freelancers on a tight budget."},
  features:["Unbegrenzt","Buchhaltung","Bankverbindung"],
  pros:{de:["Komplett kostenlos", "Integrierte Buchhaltung", "Gute Grundfunktionen"], en:["Completely free", "Integrated accounting", "Good basic features"]},
  cons:{de:["Weniger Automatisierung", "Customer Support nur per Email"], en:["Less automation", "Customer support only via email"]},
  link:"https://waveapps.com/",
  badge:"popular",
  useCases:["basic","free"],
  votes:0,
  userVote:0
},
{
  id:3,
  name:"Bonsai",
  category:"all-in-one",
  price:"paid",
  priceDisplay:{de:"ab 17‚Ç¨/Monat", en:"from $17/month"},
  rating:4.9,
  description:{de:"All-in-One Suite mit Vertr√§gen, Angeboten & Rechnungen.", en:"All-in-One suite with contracts, proposals & invoices."},
  detailedDescription:{de:"Bonsai kombiniert Rechnungen, Vertr√§ge, Angebote und Zeiterfassung in einer Plattform. Speziell f√ºr Freelancer entwickelt, die alle Gesch√§ftsprozesse verwalten m√ºssen.", en:"Bonsai combines invoices, contracts, proposals and time tracking in one platform. Specifically developed for freelancers who need to manage all business processes."},
  features:["Vertr√§ge","Angebote","Steuern"],
  pros:{de:["Alles-in-einem Tool", "Automatische Zahlungserinnerungen", "Professionelle Vertragsvorlagen"], en:["All-in-one tool", "Automatic payment reminders", "Professional contract templates"]},
  cons:{de:["Etwas teurer", "Steuerfunktionen nur f√ºr USA/Kanada"], en:["Slightly more expensive", "Tax features only for USA/Canada"]},
  link:"https://hellobonsai.com/",
  badge:"popular",
  useCases:["contracts","automation","time-tracking"],
  votes:0,
  userVote:0
},
{
  id:4,
  name:"Zoho Invoice",
  category:"advanced",
  price:"freemium",
  priceDisplay:{de:"Kostenlos/Bezahlt", en:"Free/Paid"},
  rating:4.4,
  description:{de:"Beste internationale L√∂sung mit 100+ W√§hrungen.", en:"Best international solution with 100+ currencies."},
  detailedDescription:{de:"Zoho Invoice ist Teil der Zoho Suite und bietet exzellente internationale Funktionen. Unterst√ºtzt √ºber 100 W√§hrungen und ist in mehreren Sprachen verf√ºgbar.", en:"Zoho Invoice is part of the Zoho Suite and offers excellent international features. Supports over 100 currencies and is available in multiple languages."},
  features:["100+ W√§hrungen","Mehrsprachig","Steuer-Konform"],
  pros:{de:["Exzellente internationale Unterst√ºtzung", "Gute Integration in Zoho-√ñkosystem", "Flexible Preismodelle"], en:["Excellent international support", "Good integration with Zoho ecosystem", "Flexible pricing models"]},
  cons:{de:["Komplexere Einrichtung", "Mobil-Apps weniger intuitiv"], en:["More complex setup", "Mobile apps less intuitive"]},
  link:"https://go.zoho.com/IB42",
  badge:"new",
  useCases:["international","automation"],
  votes:0,
  userVote:0
},
{
  id:5,
  name:"Invoyce",
  category:"mobile",
  price:"freemium",
  priceDisplay:{de:"~1% Transaktionsgeb√ºhr", en:"~1% transaction fee"},
  rating:4.7,
  description:{de:"Mobile-First KI Rechnungen mit Beleg-Scanning.", en:"Mobile-first AI invoices with receipt scanning."},
  detailedDescription:{de:"Invoyce ist eine mobile-first Rechnungssoftware mit KI-Funktionen. Scan Belege und erstelle automatisch Rechnungen. Ideal f√ºr unterwegs arbeitende Freelancer.", en:"Invoyce is a mobile-first invoicing software with AI features. Scan receipts and create invoices automatically. Ideal for freelancers working on the go."},
  features:["KI","Mobile","Offline"],
  pros:{de:["Beste Mobile Experience", "KI-gest√ºtzte Belegverarbeitung", "Schnelle Rechnungserstellung"], en:["Best mobile experience", "AI-powered receipt processing", "Fast invoice creation"]},
  cons:{de:["Web-Version weniger umfangreich", "Transaktionsgeb√ºhren f√ºr Zahlungen"], en:["Web version less comprehensive", "Transaction fees for payments"]},
  link:"https://invoyce.ai/",
  badge:"new",
  useCases:["mobile","automation"],
  votes:0,
  userVote:0
},
{
  id:6,
  name:"QuickBooks",
  category:"enterprise",
  price:"paid",
  priceDisplay:{de:"ab 25‚Ç¨/Monat", en:"from $25/month"},
  rating:4.7,
  description:{de:"Komplette Buchhaltung f√ºr wachsende Unternehmen.", en:"Complete accounting for growing businesses."},
  detailedDescription:{de:"QuickBooks ist eine umfassende Buchhaltungssoftware mit integrierten Rechnungsfunktionen. Ideal f√ºr Unternehmen, die Rechnungswesen und Buchhaltung kombinieren m√ºssen.", en:"QuickBooks is a comprehensive accounting software with integrated invoicing features. Ideal for businesses that need to combine invoicing and accounting."},
  features:["Buchhaltung","Steuern","Payroll"],
  pros:{de:["Sehr umfangreiche Buchhaltungsfunktionen", "Gute Steuer-Tools", "Skaliert mit Unternehmenswachstum"], en:["Very comprehensive accounting functions", "Good tax tools", "Scales with business growth"]},
  cons:{de:["√úberw√§ltigend f√ºr reine Rechnungsstellung", "Teuer f√ºr kleine Freelancer"], en:["Overwhelming for pure invoicing", "Expensive for small freelancers"]},
  link:"https://quickbooks.intuit.com/",
  badge:"popular",
  useCases:["advanced","international"],
  votes:0,
  userVote:0
},
{
  id:7,
  name:"Invoicer.ai",
  category:"basic",
  price:"freemium",
  priceDisplay:{de:"ab 9‚Ç¨/Monat", en:"from $9/month"},
  rating:4.6,
  description:{de:"Schnelle KI-Rechnungen in unter 30 Sekunden.", en:"Fast AI invoices in under 30 seconds."},
  detailedDescription:{de:"Invoicer.ai verwendet KI, um Rechnungen in Sekundenschnelle zu erstellen. Einfache Benutzeroberfl√§che und schnelle Erstellung von wiederkehrenden Rechnungen.", en:"Invoicer.ai uses AI to create invoices in seconds. Simple user interface and quick creation of recurring invoices."},
  features:["Schnell","KI Autocomplete","Batch"],
  pros:{de:["Extrem schnelle Rechnungserstellung", "KI-Vorschl√§ge sparen Zeit", "Einfache Bedienung"], en:["Extremely fast invoice creation", "AI suggestions save time", "Easy to use"]},
  cons:{de:["Begrenzte Anpassungsm√∂glichkeiten", "Keine integrierte Zeiterfassung"], en:["Limited customization options", "No integrated time tracking"]},
  link:"https://invoicer.ai/",
  badge:"new",
  useCases:["automation","basic"],
  votes:0,
  userVote:0
},
{
  id:8,
  name:"Billdu",
  category:"mobile",
  price:"freemium",
  priceDisplay:{de:"Kostenlos/ab 9‚Ç¨", en:"Free/from $9"},
  rating:4.3,
  description:{de:"Rechnungen & Angebote mit Online-Zahlungen.", en:"Invoices & quotes with online payments."},
  detailedDescription:{de:"Billdu bietet Rechnungen, Angebote und Online-Zahlungen in einer App. Gute Mobile-Apps und Offline-Funktionalit√§t.", en:"Billdu offers invoices, quotes and online payments in one app. Good mobile apps and offline functionality."},
  features:["Angebote","Zahlungen","Mobile"],
  pros:{de:["Integrierte Online-Zahlungen", "Gute Offline-Funktionalit√§t", "Angebotsfunktion inklusive"], en:["Integrated online payments", "Good offline functionality", "Quote feature included"]},
  cons:{de:["Design etwas veraltet", "Begrenzte Automatisierung"], en:["Design somewhat outdated", "Limited automation"]},
  link:"https://www.billdu.com/",
  badge:"free",
  useCases:["mobile","basic"],
  votes:0,
  userVote:0
},
{
  id:9,
  name:"Pancake",
  category:"basic",
  price:"one-time",
  priceDisplay:{de:"Einmalzahlung 99‚Ç¨", en:"One-time $99"},
  rating:4.4,
  description:{de:"Self-hosted L√∂sung f√ºr volle Kontrolle.", en:"Self-hosted solution for full control."},
  detailedDescription:{de:"Pancake ist eine Self-Hosted Rechnungssoftware, die du auf deinem eigenen Server installierst. Einmalige Zahlung, lebenslange Updates. Volle Kontrolle √ºber deine Daten.", en:"Pancake is a self-hosted invoicing software that you install on your own server. One-time payment, lifetime updates. Full control over your data."},
  features:["Self-hosted","Lifetime","Kontrolle"],
  pros:{de:["Einmalige Zahlung, keine monatlichen Kosten", "Volle Datenkontrolle", "Anpassbar an eigene Bed√ºrfnisse"], en:["One-time payment, no monthly costs", "Full data control", "Customizable to own needs"]},
  cons:{de:["Selbst gehostet = eigene Wartung n√∂tig", "Kein automatisches Backup", "Keine Mobile Apps"], en:["Self-hosted = own maintenance required", "No automatic backup", "No mobile apps"]},
  link:"https://pancakeapp.com/",
  badge:"free",
  useCases:["basic"],
  votes:0,
  userVote:0
},
{
  id:10,
  name:"Harvest",
  category:"advanced",
  price:"freemium",
  priceDisplay:{de:"ab 12‚Ç¨/Monat", en:"from $12/month"},
  rating:4.5,
  description:{de:"Zeiterfassung & Rechnungen kombiniert.", en:"Time tracking & invoices combined."},
  detailedDescription:{de:"Harvest kombiniert Zeiterfassung und Rechnungsstellung nahtlos. Ideal f√ºr Freelancer, die nach Stunden abrechnen und Zeit direkt in Rechnungen umwandeln m√∂chten.", en:"Harvest seamlessly combines time tracking and invoicing. Ideal for freelancers who bill by the hour and want to convert time directly into invoices."},
  features:["Zeiterfassung","Projekte","Berichte"],
  pros:{de:["Perfekte Zeit-Rechnung-Integration", "Exzellente Berichte", "Einfache Bedienung"], en:["Perfect time-invoice integration", "Excellent reports", "Easy to use"]},
  cons:{de:["Teurer f√ºr Teams", "Begrenzte Rechnungsvorlagen"], en:["More expensive for teams", "Limited invoice templates"]},
  link:"https://www.getharvest.com/",
  badge:"popular",
  useCases:["time-tracking","automation"],
  votes:0,
  userVote:0
},
{
  id:11,
  name:"Debitoor",
  category:"basic",
  price:"freemium",
  priceDisplay:{de:"Kostenlos/ab 9‚Ç¨", en:"Free/from $9"},
  rating:4.2,
  description:{de:"Einfache L√∂sung f√ºr deutsche Freelancer.", en:"Simple solution for German freelancers."},
  detailedDescription:{de:"Debitoor ist eine einfache Rechnungssoftware speziell f√ºr den deutschen Markt. Enth√§lt deutsche Steuerformulare und ist auf Kleinunternehmer ausgelegt.", en:"Debitoor is a simple invoicing software specifically for the German market. Includes German tax forms and is designed for small businesses."},
  features:["Deutsch","Einfach","Umsatzsteuer"],
  pros:{de:["Optimiert f√ºr deutschen Markt", "Einfache Bedienung", "Guter Kundensupport auf Deutsch"], en:["Optimized for German market", "Easy to use", "Good customer support in German"]},
  cons:{de:["Weniger internationale Funktionen", "Design nicht modern"], en:["Fewer international features", "Design not modern"]},
  link:"https://debitoor.de/",
  badge:"free",
  useCases:["basic"],
  votes:0,
  userVote:0
},
{
  id:12,
  name:"FastBill",
  category:"advanced",
  price:"paid",
  priceDisplay:{de:"ab 9‚Ç¨/Monat", en:"from $9/month"},
  rating:4.3,
  description:{de:"Deutsche L√∂sung mit DATEV Integration.", en:"German solution with DATEV integration."},
  detailedDescription:{de:"FastBill ist eine deutsche Rechnungssoftware mit DATEV-Integration. Ideal f√ºr Freelancer, die mit Steuerberatern zusammenarbeiten.", en:"FastBill is a German invoicing software with DATEV integration. Ideal for freelancers who work with tax advisors."},
  features:["DATEV","Deutsch","Automatisch"],
  pros:{de:["DATEV-Integration f√ºr Steuerberater", "Gute Automatisierungsfunktionen", "Deutsche Compliance"], en:["DATEV integration for tax advisors", "Good automation features", "German compliance"]},
  cons:{de:["Komplexere Bedienung", "Teurer f√ºr umfangreiche Funktionen"], en:["More complex operation", "More expensive for extensive features"]},
  link:"https://www.fastbill.com/",
  badge:"popular",
  useCases:["automation","advanced"],
  votes:0,
  userVote:0
}
];

// Erweitere die Liste mit mehr Tools
const moreTools = [
{
  id:13,
  name:"And Co",
  category:"all-in-one",
  price:"freemium",
  priceDisplay:{de:"Kostenlos/Bezahlt", en:"Free/Paid"},
  rating:4.6,
  description:{de:"Von Fiverr: Alles f√ºr Freelancer in einer App.", en:"By Fiverr: Everything for freelancers in one app."},
  detailedDescription:{de:"And Co (von Fiverr) kombiniert Rechnungen, Vertr√§ge, Zeiterfassung und Projektmanagement. Speziell f√ºr Freelancer-Plattformen optimiert.", en:"And Co (by Fiverr) combines invoices, contracts, time tracking and project management. Optimized specifically for freelancer platforms."},
  features:["Proposals","Contracts","Time"],
  pros:{de:["Perfekt f√ºr Fiverr-Freelancer", "All-in-One L√∂sung", "Gute Integrationen"], en:["Perfect for Fiverr freelancers", "All-in-one solution", "Good integrations"]},
  cons:{de:["Kostenpflichtige Features n√∂tig f√ºr volle Funktionalit√§t", "Weniger flexibel f√ºr Nicht-Fiverr-Nutzer"], en:["Paid features needed for full functionality", "Less flexible for non-Fiverr users"]},
  link:"https://www.and.co/",
  badge:"new",
  useCases:["contracts","time-tracking","automation"],
  votes:0,
  userVote:0
},
{
  id:14,
  name:"PandaDoc",
  category:"all-in-one",
  price:"paid",
  priceDisplay:{de:"ab 19‚Ç¨/Monat", en:"from $19/month"},
  rating:4.5,
  description:{de:"Dokumente, Vertr√§ge & eSignatures mit Tracking.", en:"Documents, contracts & eSignatures with tracking."},
  detailedDescription:{de:"PandaDoc fokussiert sich auf dokumentenbasierte Workflows mit eSignatures. Ideal f√ºr Unternehmen, die Vertr√§ge und Rechnungen mit Unterschriften kombinieren.", en:"PandaDoc focuses on document-based workflows with eSignatures. Ideal for businesses that combine contracts and invoices with signatures."},
  features:["Dokumente","eSign","Tracking"],
  pros:{de:["Exzellente eSignature-Funktionen", "Dokumenten-Tracking", "Professionelle Vorlagen"], en:["Excellent eSignature features", "Document tracking", "Professional templates"]},
  cons:{de:["Teurer f√ºr kleine Teams", "Steile Lernkurve"], en:["Expensive for small teams", "Steep learning curve"]},
  link:"https://www.pandadoc.com/",
  badge:"popular",
  useCases:["contracts","automation"],
  votes:0,
  userVote:0
},
{
  id:15,
  name:"Xero",
  category:"enterprise",
  price:"paid",
  priceDisplay:{de:"ab 12‚Ç¨/Monat", en:"from $12/month"},
  rating:4.6,
  description:{de:"Cloud-Buchhaltung f√ºr kleine Unternehmen.", en:"Cloud accounting for small businesses."},
  detailedDescription:{de:"Xero ist eine Cloud-Buchhaltungssoftware mit starken Rechnungsfunktionen. Besonders beliebt bei kleinen Unternehmen und Startups.", en:"Xero is a cloud accounting software with strong invoicing features. Particularly popular with small businesses and startups."},
  features:["Banking","Payroll","Reports"],
  pros:{de:["Exzellente Buchhaltungsfunktionen", "Gute Bankintegration", "Starke Berichte"], en:["Excellent accounting functions", "Good bank integration", "Strong reports"]},
  cons:{de:["F√ºr reine Rechnungsstellung √ºberdimensioniert", "Komplexe Einrichtung"], en:["Overkill for pure invoicing", "Complex setup"]},
  link:"https://www.xero.com/",
  badge:"popular",
  useCases:["advanced","international"],
  votes:0,
  userVote:0
},
{
  id:16,
  name:"SlimInvoice",
  category:"basic",
  price:"freemium",
  priceDisplay:{de:"Kostenlos/ab 5‚Ç¨", en:"Free/from $5"},
  rating:4.1,
  description:{de:"Minimalistische Rechnungen mit KI-Vorschl√§gen.", en:"Minimalist invoices with AI suggestions."},
  detailedDescription:{de:"SlimInvoice ist eine minimalistische Rechnungssoftware mit KI-Unterst√ºtzung. Fokussiert auf das Wesentliche ohne √ºberfl√ºssige Funktionen.", en:"SlimInvoice is a minimalist invoicing software with AI support. Focused on the essentials without unnecessary features."},
  features:["Minimal","KI","Schnell"],
  pros:{de:["Sehr einfache Bedienung", "Schnelle Rechnungserstellung", "G√ºnstige Preise"], en:["Very easy to use", "Fast invoice creation", "Low prices"]},
  cons:{de:["Sehr begrenzte Funktionen", "Keine Mobile Apps", "Weniger professionelle Vorlagen"], en:["Very limited features", "No mobile apps", "Less professional templates"]},
  link:"https://slimvoice.co/",
  badge:"free",
  useCases:["basic","automation"],
  votes:0,
  userVote:0
}
];

invoiceTools = [...invoiceTools, ...moreTools];

// Translations - Vollst√§ndig √ºbersetzt
const translations = {
  de: {
    badge: n => `üöÄ ${n} Rechnungs-Tools f√ºr 2026`,
    title: "Finde sofort dein perfektes Rechnungs-Tool",
    desc: "Echte Freelancer-Bewertungen, Top 5 Charts, intelligente Empfehlungen. Kein unn√∂tiges Scrollen.",
    searchPlaceholder: "Was m√∂chtest du mit deiner Rechnungssoftware erreichen?",
    navAuto: "Automatisierung",
    navAutoDesc: "Automatische Erinnerungen, wiederkehrende Rechnungen",
    navTime: "Zeiterfassung",
    navTimeDesc: "Zeit tracken & direkt in Rechnungen umwandeln",
    navIntl: "International",
    navIntlDesc: "Mehrere W√§hrungen, internationale Steuern",
    navMobile: "Mobile First",
    navMobileDesc: "Rechnungen unterwegs erstellen",
    navContract: "Vertr√§ge",
    navContractDesc: "Vertr√§ge & Rechnungen kombinieren",
    navFree: "Kostenlos",
    navFreeDesc: "Top kostenlose Rechnungs-Tools",
    topChartsTitle: "Top 5 Rechnungs-Tools - Community Ranking",
    catAll: "Alle",
    catBasic: "Basic",
    catAdvanced: "Advanced",
    catMobile: "Mobile",
    catAllInOne: "All-in-One",
    catEnterprise: "Enterprise",
    priceAll: "üí∞ Alle Preise",
    priceFree: "üÜì Kostenlos",
    pricePaid: "üí≥ Bezahlt",
    priceFreemium: "‚≠ê Freemium",
    priceOneTime: "üíé Einmalzahlung",
    sortPopular: "üî• Beliebt",
    sortVotes: "üëç Community",
    sortRating: "‚≠ê Bewertung",
    sortPriceLow: "üí∞ Preis ‚Üë",
    sortPriceHigh: "üí∞ Preis ‚Üì",
    toolsFound: "Tools",
    tryNow: "Testen",
    noTitle: "Keine Tools gefunden",
    noMsg: "√Ñndere deine Filter oder versuche andere Suchbegriffe.",
    resetBtn: "Filter zur√ºcksetzen",
    footerCopy: "¬© 2026 Invoice Finder | Community-gest√ºtzte Rechnungs-Tool Empfehlungen",
    footerDiscl: "Bewertungen basieren auf User-Feedback (LocalStorage).",
    helpful: "Hilfreich",
    pros: "Vorteile: ",
    cons: "Nachteile: "
  },
  en: {
    badge: n => `üöÄ ${n} Invoicing Tools for 2026`,
    title: "Find your perfect invoicing tool instantly",
    desc: "Real freelancer ratings, Top 5 charts, smart recommendations. No unnecessary scrolling.",
    searchPlaceholder: "What do you want to achieve with your invoicing software?",
    navAuto: "Automation",
    navAutoDesc: "Auto-reminders, recurring invoices",
    navTime: "Time Tracking",
    navTimeDesc: "Track time & convert to invoices",
    navIntl: "International",
    navIntlDesc: "Multiple currencies, international taxes",
    navMobile: "Mobile First",
    navMobileDesc: "Create invoices on the go",
    navContract: "Contracts",
    navContractDesc: "Combine contracts & invoices",
    navFree: "Free",
    navFreeDesc: "Top free invoicing tools",
    topChartsTitle: "Top 5 Invoicing Tools - Community Ranking",
    catAll: "All",
    catBasic: "Basic",
    catAdvanced: "Advanced",
    catMobile: "Mobile",
    catAllInOne: "All-in-One",
    catEnterprise: "Enterprise",
    priceAll: "üí∞ All prices",
    priceFree: "üÜì Free",
    pricePaid: "üí≥ Paid",
    priceFreemium: "‚≠ê Freemium",
    priceOneTime: "üíé One-time",
    sortPopular: "üî• Popular",
    sortVotes: "üëç Community",
    sortRating: "‚≠ê Rating",
    sortPriceLow: "üí∞ Price ‚Üë",
    sortPriceHigh: "üí∞ Price ‚Üì",
    toolsFound: "Tools",
    tryNow: "Try Now",
    noTitle: "No tools found",
    noMsg: "Change your filters or try different search terms.",
    resetBtn: "Reset filters",
    footerCopy: "¬© 2026 Invoice Finder | Community-driven invoicing tool recommendations",
    footerDiscl: "Ratings based on user feedback (LocalStorage).",
    helpful: "Helpful",
    pros: "Pros: ",
    cons: "Cons: "
  }
};

let lang = 'de';
let cat = 'all';
let price = 'all';
let sort = 'votes';
let query = '';
let activeUseCase = '';
let searchTimeout;
let userVotes = {};

// Initialize
document.addEventListener('DOMContentLoaded', () => {
  loadUserVotes();
  setupEvents();
  updateLang();
  renderTopCharts();
  applyFilters();
});

function loadUserVotes() {
  const saved = localStorage.getItem('invoiceToolsVotes');
  if (saved) {
    userVotes = JSON.parse(saved);
    // Apply saved votes to tools
    invoiceTools.forEach(tool => {
      if (userVotes[tool.id]) {
        tool.votes = userVotes[tool.id].votes || 0;
        tool.userVote = userVotes[tool.id].userVote || 0;
      }
    });
  }
}

function saveUserVotes() {
  const toSave = {};
  invoiceTools.forEach(tool => {
    if (tool.votes !== 0 || tool.userVote !== 0) {
      toSave[tool.id] = { votes: tool.votes, userVote: tool.userVote };
    }
  });
  localStorage.setItem('invoiceToolsVotes', JSON.stringify(toSave));
}

function setupEvents() {
  document.getElementById('langBtn').addEventListener('click', () => {
    lang = lang === 'de' ? 'en' : 'de';
    document.getElementById('langText').textContent = lang === 'de' ? 'EN' : 'DE';
    updateLang();
    renderTopCharts();
    applyFilters();
  });

  const searchInput = document.getElementById('searchInput');
  searchInput.addEventListener('input', e => {
    clearTimeout(searchTimeout);
    const v = e.target.value.toLowerCase();
    searchTimeout = setTimeout(() => {
      query = v;
      if (v.length > 1) showSuggestions(v);
      else hideSuggestions();
      applyFilters();
    }, 300);
  });
  searchInput.addEventListener('focus', () => {
    if (searchInput.value.length > 0) showSuggestions(searchInput.value);
  });
  searchInput.addEventListener('blur', () => {
    setTimeout(hideSuggestions, 200);
  });

  document.addEventListener('keydown', e => {
    if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
      e.preventDefault();
      searchInput.focus();
    }
    if (e.key === 'Escape') {
      searchInput.value = '';
      query = '';
      hideSuggestions();
      applyFilters();
    }
  });

  document.getElementById('quickNav').addEventListener('click', e => {
    const card = e.target.closest('.quick-card');
    if (!card) return;
    
    // Remove active class from all quick cards
    document.querySelectorAll('.quick-card').forEach(c => c.classList.remove('active'));
    
    // Add active class to clicked card
    card.classList.add('active');
    
    const category = card.dataset.category;
    const useCase = card.dataset.usecase;
    
    // Also reset filter buttons
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    document.querySelector('[data-scope="all"]').classList.add('active');
    
    if (category) {
      cat = 'all';
      price = category; // For free category
      activeUseCase = '';
      document.getElementById('priceFilter').value = price;
    } else if (useCase) {
      cat = 'all';
      price = 'all';
      activeUseCase = useCase;
      document.getElementById('priceFilter').value = price;
    }
    
    query = '';
    searchInput.value = '';
    
    applyFilters();
    window.scrollTo({ top: document.querySelector('.tools-container').offsetTop - 20, behavior: 'smooth' });
  });

  document.querySelector('.compact-filters').addEventListener('click', e => {
    const btn = e.target.closest('.filter-btn');
    if (!btn) return;
    
    // Reset quick cards
    document.querySelectorAll('.quick-card').forEach(c => c.classList.remove('active'));
    
    document.querySelectorAll('.compact-filters .filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    
    if (btn.dataset.scope === 'all') {
      cat = 'all';
    } else if (btn.dataset.category) {
      cat = btn.dataset.category;
    }
    
    price = 'all';
    activeUseCase = '';
    document.getElementById('priceFilter').value = price;
    
    applyFilters();
  });

  document.getElementById('priceFilter').addEventListener('change', function() {
    price = this.value;
    // Reset quick cards
    document.querySelectorAll('.quick-card').forEach(c => c.classList.remove('active'));
    activeUseCase = '';
    applyFilters();
  });
  
  document.getElementById('sortFilter').addEventListener('change', function() {
    sort = this.value;
    applyFilters();
  });

  const scrollBtn = document.getElementById('scrollTop');
  window.addEventListener('scroll', () => {
    scrollBtn.classList.toggle('visible', window.pageYOffset > 300);
  });
  scrollBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
}

function showSuggestions(q) {
  const div = document.getElementById('searchSuggestions');
  const matches = invoiceTools.filter(t => {
    const txt = `${t.name} ${t.category} ${t.description[lang]} ${t.features.join(' ')}`.toLowerCase();
    return txt.includes(q);
  }).slice(0, 6);
  
  if (matches.length > 0) {
    div.innerHTML = matches.map(t => `
      <div class="suggestion-item" data-tool="${t.id}">
        <i class="${catIcon(t.category)} suggestion-icon"></i>
        <div class="suggestion-text">
          <div class="suggestion-name">${highlight(t.name, q)}</div>
          <div class="suggestion-meta">${catName(t.category)} ‚Ä¢ ${t.priceDisplay[lang]}</div>
        </div>
      </div>
    `).join('');
    
    div.querySelectorAll('.suggestion-item').forEach(el => {
      el.addEventListener('click', () => {
        const toolId = parseInt(el.dataset.tool);
        const tool = invoiceTools.find(t => t.id === toolId);
        if (tool) {
          document.getElementById('searchInput').value = tool.name;
          query = tool.name.toLowerCase();
          hideSuggestions();
          applyFilters();
          // Scroll to that tool
          setTimeout(() => {
            const toolElement = document.querySelector(`[data-id="${toolId}"]`);
            if (toolElement) {
              toolElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
              toolElement.style.boxShadow = '0 0 0 2px var(--primary)';
              setTimeout(() => toolElement.style.boxShadow = '', 2000);
            }
          }, 100);
        }
      });
    });
    div.classList.add('active');
  } else {
    hideSuggestions();
  }
}

function hideSuggestions() {
  document.getElementById('searchSuggestions').classList.remove('active');
}

function highlight(txt, q) {
  const rx = new RegExp(`(${q})`, 'gi');
  return txt.replace(rx, '<span style="color:var(--primary-light)">$1</span>');
}

function catIcon(c) {
  const m = {
    basic: 'fas fa-file-invoice',
    advanced: 'fas fa-chart-line',
    mobile: 'fas fa-mobile-alt',
    'all-in-one': 'fas fa-box',
    enterprise: 'fas fa-building'
  };
  return m[c] || 'fas fa-star';
}

function catName(c) {
  const m = {
    basic: translations[lang].catBasic,
    advanced: translations[lang].catAdvanced,
    mobile: translations[lang].catMobile,
    'all-in-one': translations[lang].catAllInOne,
    enterprise: translations[lang].catEnterprise
  };
  return m[c] || c;
}

function updateLang() {
  const t = translations[lang];
  document.getElementById('badgeText').textContent = t.badge(invoiceTools.length);
  document.getElementById('pageTitle').textContent = t.title;
  document.getElementById('pageDescription').textContent = t.desc;
  document.getElementById('searchInput').placeholder = t.searchPlaceholder;
  document.getElementById('navAuto').textContent = t.navAuto;
  document.getElementById('navAutoDesc').textContent = t.navAutoDesc;
  document.getElementById('navTime').textContent = t.navTime;
  document.getElementById('navTimeDesc').textContent = t.navTimeDesc;
  document.getElementById('navIntl').textContent = t.navIntl;
  document.getElementById('navIntlDesc').textContent = t.navIntlDesc;
  document.getElementById('navMobile').textContent = t.navMobile;
  document.getElementById('navMobileDesc').textContent = t.navMobileDesc;
  document.getElementById('navContract').textContent = t.navContract;
  document.getElementById('navContractDesc').textContent = t.navContractDesc;
  document.getElementById('navFree').textContent = t.navFree;
  document.getElementById('navFreeDesc').textContent = t.navFreeDesc;
  document.getElementById('topChartsTitle').textContent = t.topChartsTitle;
  document.getElementById('catAll').textContent = t.catAll;
  document.getElementById('catBasic').textContent = t.catBasic;
  document.getElementById('catAdvanced').textContent = t.catAdvanced;
  document.getElementById('catMobile').textContent = t.catMobile;
  document.getElementById('catAllInOne').textContent = t.catAllInOne;
  document.getElementById('catEnterprise').textContent = t.catEnterprise;
  document.getElementById('toolsText').textContent = t.toolsFound;
  document.getElementById('footerCopy').textContent = t.footerCopy;
  document.getElementById('footerDiscl').textContent = t.footerDiscl;

  const pf = document.getElementById('priceFilter');
  pf.innerHTML = `
    <option value="all">${t.priceAll}</option>
    <option value="free">${t.priceFree}</option>
    <option value="paid">${t.pricePaid}</option>
    <option value="freemium">${t.priceFreemium}</option>
    <option value="one-time">${t.priceOneTime}</option>
  `;
  pf.value = price;

  const sf = document.getElementById('sortFilter');
  sf.innerHTML = `
    <option value="votes">${t.sortVotes}</option>
    <option value="popular">${t.sortPopular}</option>
    <option value="rating">${t.sortRating}</option>
    <option value="price-low">${t.sortPriceLow}</option>
    <option value="price-high">${t.sortPriceHigh}</option>
  `;
  sf.value = sort;
}

function renderTopCharts() {
  const container = document.getElementById('topCharts');
  const sortedTools = [...invoiceTools]
    .sort((a, b) => (b.votes + b.rating * 10) - (a.votes + a.rating * 10))
    .slice(0, 5);

  container.innerHTML = sortedTools.map((tool, index) => `
    <div class="chart-card">
      <div class="chart-header">
        <div class="chart-rank rank-${index + 1}">${index + 1}</div>
        <div class="chart-votes">
          <i class="fas fa-thumbs-up"></i>
          <span>${tool.votes}</span>
        </div>
      </div>
      <div class="chart-tool-name">${tool.name}</div>
      <div class="chart-category">${catName(tool.category)}</div>
      <div class="chart-price">${tool.priceDisplay[lang]}</div>
      <div class="chart-description">${tool.detailedDescription ? tool.detailedDescription[lang] : tool.description[lang]}</div>
      ${tool.pros ? `
      <div class="chart-pros-cons">
        <div class="pros-list"><strong>${translations[lang].pros}</strong> ${tool.pros[lang].slice(0,2).join(', ')}</div>
        <div class="cons-list"><strong>${translations[lang].cons}</strong> ${tool.cons[lang].slice(0,1).join(', ')}</div>
      </div>
      ` : ''}
      <div class="chart-actions">
        <button class="vote-btn up ${tool.userVote === 1 ? 'active' : ''}" data-id="${tool.id}" data-vote="1">
          <i class="fas fa-thumbs-up"></i> ${translations[lang].helpful}
        </button>
        <button class="vote-btn down ${tool.userVote === -1 ? 'active' : ''}" data-id="${tool.id}" data-vote="-1">
          <i class="fas fa-thumbs-down"></i>
        </button>
      </div>
    </div>
  `).join('');

  // Add vote event listeners
  container.querySelectorAll('.vote-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const toolId = parseInt(btn.dataset.id);
      const vote = parseInt(btn.dataset.vote);
      handleVote(toolId, vote);
    });
  });
}

function handleVote(toolId, vote) {
  const tool = invoiceTools.find(t => t.id === toolId);
  if (!tool) return;

  // Reset if clicking same vote
  if (tool.userVote === vote) {
    tool.votes -= vote;
    tool.userVote = 0;
  } else {
    // Remove previous vote if exists
    if (tool.userVote !== 0) {
      tool.votes -= tool.userVote;
    }
    tool.votes += vote;
    tool.userVote = vote;
  }

  userVotes[toolId] = { votes: tool.votes, userVote: tool.userVote };
  saveUserVotes();
  renderTopCharts();
  applyFilters(); // Update main list
}

function applyFilters() {
  let filtered = invoiceTools.filter(tool => {
    if (cat !== 'all' && tool.category !== cat) return false;
    if (price !== 'all' && tool.price !== price) return false;
    
    // Filter by use case if active
    if (activeUseCase && (!tool.useCases || !tool.useCases.includes(activeUseCase))) {
      return false;
    }
    
    if (query) {
      const txt = `${tool.name} ${tool.category} ${tool.description[lang]} ${tool.features.join(' ')}`.toLowerCase();
      if (!txt.includes(query)) return false;
    }
    return true;
  });

  filtered.sort((a, b) => {
    if (sort === 'rating') return b.rating - a.rating;
    if (sort === 'votes') return (b.votes + b.rating * 10) - (a.votes + a.rating * 10);
    if (sort === 'popular') return (b.badge === 'popular' ? 1 : 0) - (a.badge === 'popular' ? 1 : 0);
    if (sort === 'price-low' || sort === 'price-high') {
      const aPrice = a.priceDisplay[lang].includes('Free') || a.priceDisplay[lang].includes('Kostenlos') ? 0 : 
                    parseFloat(a.priceDisplay[lang].replace(/[^\d.]/g, '')) || 999;
      const bPrice = b.priceDisplay[lang].includes('Free') || b.priceDisplay[lang].includes('Kostenlos') ? 0 : 
                    parseFloat(b.priceDisplay[lang].replace(/[^\d.]/g, '')) || 999;
      return sort === 'price-low' ? aPrice - bPrice : bPrice - aPrice;
    }
    return 0;
  });

  renderTools(filtered);
}

function renderTools(tools) {
  const grid = document.getElementById('toolsGrid');
  const t = translations[lang];
  document.getElementById('toolCount').textContent = tools.length;

  if (tools.length === 0) {
    grid.innerHTML = `
      <div class="empty-state">
        <i class="fas fa-search"></i>
        <h3>${t.noTitle}</h3>
        <p>${t.noMsg}</p>
        <button class="reset-btn" id="resetFiltersBtn">
          <i class="fas fa-redo"></i> ${t.resetBtn}
        </button>
      </div>
    `;
    document.getElementById('resetFiltersBtn').addEventListener('click', resetFilters);
    return;
  }

  grid.innerHTML = tools.map(tool => `
    <div class="compact-tool-row" data-id="${tool.id}">
      <div class="tool-vote-compact">
        <div class="vote-count">${tool.votes}</div>
        <div>
          <button class="vote-btn-compact up ${tool.userVote === 1 ? 'active' : ''}" data-id="${tool.id}" data-vote="1">
            <i class="fas fa-thumbs-up"></i>
          </button>
          <button class="vote-btn-compact down ${tool.userVote === -1 ? 'active' : ''}" data-id="${tool.id}" data-vote="-1">
            <i class="fas fa-thumbs-down"></i>
          </button>
        </div>
      </div>
      <div class="tool-info-compact">
        <div class="tool-name-row">
          <div class="tool-name-compact">${tool.name}</div>
          <div class="tool-category-compact">${catName(tool.category)}</div>
        </div>
        <div class="tool-desc-compact">${tool.detailedDescription ? tool.detailedDescription[lang] : tool.description[lang]}</div>
        ${tool.pros ? `
        <div class="tool-pros-cons-compact">
          <span class="pros">${t.pros}</span>${tool.pros[lang].slice(0,2).join(', ')} 
          <span class="cons">${t.cons}</span>${tool.cons[lang].slice(0,1).join(', ')}
        </div>
        ` : ''}
      </div>
      <div class="tool-meta-compact">
        <div class="tool-price-compact">${tool.priceDisplay[lang]}</div>
        <a href="${tool.link}" class="tool-link-compact" target="_blank" rel="noopener noreferrer">${t.tryNow}</a>
      </div>
    </div>
  `).join('');

  // Add vote event listeners
  grid.querySelectorAll('.vote-btn-compact').forEach(btn => {
    btn.addEventListener('click', (e) => {
      const toolId = parseInt(btn.dataset.id);
      const vote = parseInt(btn.dataset.vote);
      handleVote(toolId, vote);
    });
  });
}

function resetFilters() {
  cat = 'all';
  price = 'all';
  sort = 'votes';
  query = '';
  activeUseCase = '';
  document.getElementById('searchInput').value = '';
  document.getElementById('priceFilter').value = 'all';
  document.getElementById('sortFilter').value = 'votes';
  document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
  document.querySelector('[data-scope="all"]').classList.add('active');
  document.querySelectorAll('.quick-card').forEach(c => c.classList.remove('active'));
  applyFilters();
}
</script>
</body>
</html>